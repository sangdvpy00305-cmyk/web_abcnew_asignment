<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%@ taglib prefix="fmt" uri="jakarta.tags.fmt" %>
<!DOCTYPE html>
<html lang="vi">

<head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>ABC News - Tin t·ª©c 24h m·ªõi nh·∫•t h√¥m nay</title>
                <link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/docgia.css">
                <link rel="icon" type="image/x-icon" href="${pageContext.request.contextPath}/images/favicon.ico">
</head>

<body>
                <!-- Header Top Bar -->
                <div class="header-top">
                    <div class="container">
                        <div class="header-top-content">
                            <div class="header-date">
                                <span id="currentDate"></span>
                            </div>
                            <div class="header-tools">
                                <a href="#" title="RSS">üì° RSS</a>
                                <a href="#" title="Mobile">üì± Mobile</a>
                                <a href="#" title="·ª®ng d·ª•ng">üì≤ App</a>
                                <a href="${pageContext.request.contextPath}/views/docgia/newsletter.jsp"
                                    title="Newsletter">üìß Newsletter</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Header -->
                <header class="header">
                    <div class="header-main">
                        <div class="container">
                            <div class="header-content">
                                <div class="logo">
                                    <h1>ABC NEWS</h1>
                                    <div class="logo-tagline">Tin nhanh - Ch√≠nh x√°c - C·∫≠p nh·∫≠t 24/7</div>
                                </div>

                                <div class="header-right">
                                    <form class="search-form" action="search.jsp" method="get">
                                        <input type="text" name="q" placeholder="T√¨m ki·∫øm tin t·ª©c..." required>
                                        <button type="submit">üîç</button>
                                    </form>

                                    <div class="user-menu">
                                        <c:choose>
                                            <c:when test="${not empty sessionScope.user}">
                                                <span style="color: rgba(255,255,255,0.9);">Xin ch√†o,
                                                    ${sessionScope.userName}!</span>
                                                <c:if test="${sessionScope.userRole}">
                                                    <a
                                                        href="${pageContext.request.contextPath}/admin/dashboard">Admin</a>
                                                </c:if>
                                                <c:if test="${not sessionScope.userRole}">
                                                    <a
                                                        href="${pageContext.request.contextPath}/reporter/dashboard">Dashboard</a>
                                                </c:if>
                                                <a href="${pageContext.request.contextPath}/logout">ƒêƒÉng xu·∫•t</a>
                                            </c:when>
                                            <c:otherwise>
                                                <a href="${pageContext.request.contextPath}/login.jsp">ƒêƒÉng nh·∫≠p</a>
                                                <a href="${pageContext.request.contextPath}/docgia/newsletter.jsp">Newsletter</a>
                                            </c:otherwise>
                                        </c:choose>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Navigation Menu -->
                <nav class="navbar">
                    <div class="container">
                        <ul class="nav-menu">
                            <li><a href="${pageContext.request.contextPath}/views/docgia/index.jsp" class="active">Trang ch·ªß</a></li>
                            <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=3">Th·ªÉ thao</a></li>
                            <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=4">Kinh t·∫ø</a></li>
                            <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=5">Gi·∫£i tr√≠</a></li>
                            <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=6">C√¥ng ngh·ªá</a></li>
                        </ul>
                    </div>
                </nav>

                <!-- Main Content -->
                <div class="main-wrapper">
                    <div class="container">
                        <div class="content-layout">
                            <!-- Main Content -->
                            <main class="main-content">
                                <!-- Featured Article -->
                                <c:if test="${not empty homeArticles}">
                                    <c:set var="featuredArticle" value="${homeArticles[0]}" />
                                    <article class="featured-article">
                                        <a href="${pageContext.request.contextPath}/detail?id=${featuredArticle.id}">
                                            <img src="${pageContext.request.contextPath}/images/${featuredArticle.image}"
                                                alt="${featuredArticle.title}" class="featured-image">
                                        </a>
                                        <div class="article-category">${featuredArticle.categoryName}</div>
                                        <h1 class="featured-title">
                                            <a
                                                href="${pageContext.request.contextPath}/detail?id=${featuredArticle.id}">${featuredArticle.title}</a>
                                        </h1>
                                        <p class="featured-excerpt">
                                            ${featuredArticle.excerpt}
                                        </p>
                                        <div class="article-meta">
                                            <div class="meta-item">
                                                <span class="meta-icon">üë§</span>
                                                <span>${featuredArticle.authorName}</span>
                                            </div>
                                            <div class="meta-item">
                                                <span class="meta-icon">üìÖ</span>
                                                <span>${featuredArticle.formattedDate}</span>
                                            </div>
                                            <div class="meta-item">
                                                <span class="meta-icon">üëÅÔ∏è</span>
                                                <span>${featuredArticle.viewCount} l∆∞·ª£t xem</span>
                                            </div>
                                            <div class="meta-item">
                                                <span class="meta-icon">üí¨</span>
                                                <span>0 b√¨nh lu·∫≠n</span>
                                            </div>
                                        </div>
                                    </article>
                                </c:if>

                                <!-- Articles Grid -->
                                <div class="articles-grid">
                                    <c:forEach var="article" items="${allArticles}" begin="1" end="6">
                                        <article class="article-card">
                                            <a href="${pageContext.request.contextPath}/detail?id=${article.id}">
                                                <img src="${pageContext.request.contextPath}/images/${article.image}"
                                                    alt="${article.title}" class="article-image">
                                            </a>
                                            <div class="article-content">
                                                <div class="article-category">${article.categoryName}</div>
                                                <h2 class="article-title">
                                                    <a
                                                        href="${pageContext.request.contextPath}/detail?id=${article.id}">${article.title}</a>
                                                </h2>
                                                <p class="article-excerpt">
                                                    ${article.excerpt}
                                                </p>
                                                <div class="article-meta">
                                                    <div class="meta-item">
                                                        <span class="meta-icon">üìÖ</span>
                                                        <span>${article.formattedDate}</span>
                                                    </div>
                                                    <div class="meta-item">
                                                        <span class="meta-icon">üëÅÔ∏è</span>
                                                        <span>${article.viewCount} l∆∞·ª£t xem</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </article>
                                    </c:forEach>
                                </div>

                                <!-- Load More Button -->
                                <div style="text-align: center; margin: 30px 0;">
                                    <button class="btn btn-primary" onclick="loadMoreArticles()">Xem th√™m tin
                                        t·ª©c</button>
                                </div>
                            </main>

                            <!-- Sidebar -->
                            <aside class="sidebar">
                                <!-- Most Viewed Widget -->
                                <div class="widget">
                                    <div class="widget-header">
                                        üìä Tin ƒë∆∞·ª£c xem nhi·ªÅu nh·∫•t
                                    </div>
                                    <div class="widget-content">
                                        <c:choose>
                                            <c:when test="${not empty allArticles}">
                                                <ul class="widget-list">
                                                    <c:forEach var="article" items="${allArticles}" begin="0" end="4">
                                                        <li>
                                                            <img src="${pageContext.request.contextPath}/images/${article.image}"
                                                                alt="${article.title}" class="widget-thumb">
                                                            <div class="widget-item-content">
                                                                <a href="${pageContext.request.contextPath}/detail?id=${article.id}"
                                                                    class="widget-item-title">
                                                                    ${article.title}
                                                                </a>
                                                                <div class="widget-item-meta">${article.formattedDate} ‚Ä¢
                                                                    ${article.viewCount} l∆∞·ª£t xem</div>
                                                            </div>
                                                        </li>
                                                    </c:forEach>
                                                </ul>
                                            </c:when>
                                            <c:otherwise>
                                                <p style="text-align: center; color: #666; padding: 20px;">
                                                    Ch∆∞a c√≥ b√†i vi·∫øt n√†o ƒë∆∞·ª£c ƒëƒÉng.
                                                </p>
                                            </c:otherwise>
                                        </c:choose>
                                    </div>
                                </div>

                                <!-- Latest News Widget -->
                                <div class="widget">
                                    <div class="widget-header">
                                        üìà Tin m·ªõi nh·∫•t
                                    </div>
                                    <div class="widget-content">
                                        <c:choose>
                                            <c:when test="${not empty allArticles}">
                                                <ul class="widget-list">
                                                    <c:forEach var="article" items="${allArticles}" begin="0" end="2">
                                                        <li>
                                                            <img src="${pageContext.request.contextPath}/images/${article.image}"
                                                                alt="${article.title}" class="widget-thumb">
                                                            <div class="widget-item-content">
                                                                <a href="${pageContext.request.contextPath}/detail?id=${article.id}"
                                                                    class="widget-item-title">
                                                                    ${article.title}
                                                                </a>
                                                                <div class="widget-item-meta">${article.formattedDate}
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </c:forEach>
                                                </ul>
                                            </c:when>
                                            <c:otherwise>
                                                <p style="text-align: center; color: #666; padding: 20px;">
                                                    Ch∆∞a c√≥ b√†i vi·∫øt m·ªõi.
                                                </p>
                                            </c:otherwise>
                                        </c:choose>
                                    </div>
                                </div>

                                <!-- Newsletter Widget -->
                                <div class="widget">
                                    <div class="widget-header">
                                        üìß ƒêƒÉng k√Ω nh·∫≠n tin
                                    </div>
                                    <div class="widget-content">
                                        <p style="margin-bottom: 15px; font-size: 14px; color: #666;">
                                            Nh·∫≠n tin t·ª©c m·ªõi nh·∫•t t·ª´ ABC News qua email c·ªßa b·∫°n
                                        </p>
                                        <form class="newsletter-form"
                                            action="${pageContext.request.contextPath}/newsletter.jsp" method="post">
                                            <input type="email" name="email" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ email c·ªßa b·∫°n"
                                                class="newsletter-input" required>
                                            <button type="submit" class="newsletter-btn">ƒêƒÉng k√Ω ngay</button>
                                        </form>
                                        <p style="margin-top: 10px; font-size: 12px; color: #888;">
                                            Ch√∫ng t√¥i cam k·∫øt b·∫£o m·∫≠t th√¥ng tin c·ªßa b·∫°n
                                        </p>
                                    </div>
                                </div>

                                <!-- Weather Widget -->
                                <div class="widget">
                                    <div class="widget-header">
                                        üå§Ô∏è Th·ªùi ti·∫øt h√¥m nay
                                    </div>
                                    <div class="widget-content">
                                        <div style="text-align: center;">
                                            <div style="font-size: 24px; margin-bottom: 10px;">üå§Ô∏è</div>
                                            <div
                                                style="font-size: 28px; font-weight: bold; color: #c41e3a; margin-bottom: 5px;">
                                                28¬∞C</div>
                                            <div style="font-size: 14px; color: #666; margin-bottom: 10px;">H√† N·ªôi - C√≥
                                                m√¢y
                                            </div>
                                            <div
                                                style="display: flex; justify-content: space-between; font-size: 12px; color: #888;">
                                                <span>Cao: 32¬∞C</span>
                                                <span>Th·∫•p: 24¬∞C</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </aside>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <footer class="footer">
                    <div class="container">
                        <div class="footer-content">
                            <div class="footer-section">
                                <h3>ABC News</h3>
                                <p style="margin-bottom: 15px; font-size: 14px; line-height: 1.6;">
                                    Trang tin t·ª©c h√†ng ƒë·∫ßu Vi·ªát Nam, c·∫≠p nh·∫≠t tin nhanh v√† ch√≠nh x√°c 24/7
                                </p>
                                <div style="display: flex; gap: 10px;">
                                    <a href="#" style="font-size: 20px;">üìò</a>
                                    <a href="#" style="font-size: 20px;">üê¶</a>
                                    <a href="#" style="font-size: 20px;">üì∫</a>
                                    <a href="#" style="font-size: 20px;">üì∑</a>
                                </div>
                            </div>

                            <div class="footer-section">
                                <h3>Chuy√™n m·ª•c</h3>
                                <ul>
                                    <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=1">Th·ªùi
                                            s·ª±</a></li>
                                    <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=2">Th·∫ø
                                            gi·ªõi</a></li>
                                    <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=3">Th·ªÉ
                                            thao</a></li>
                                    <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=4">Kinh
                                            doanh</a></li>
                                    <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=5">Gi·∫£i
                                            tr√≠</a></li>
                                    <li><a href="${pageContext.request.contextPath}/views/docgia/category.jsp?id=6">C√¥ng
                                            ngh·ªá</a></li>
                                </ul>
                            </div>

                            <div class="footer-section">
                                <h3>D·ªãch v·ª•</h3>
                                <ul>
                                    <li><a
                                            href="${pageContext.request.contextPath}/views/docgia/newsletter.jsp">Newsletter</a>
                                    </li>
                                    <li><a href="#">RSS</a></li>
                                    <li><a href="#">Mobile App</a></li>
                                    <li><a href="#">Qu·∫£ng c√°o</a></li>
                                    <li><a href="#">Li√™n h·ªá</a></li>
                                </ul>
                            </div>

                            <div class="footer-section">
                                <h3>Li√™n h·ªá</h3>
                                <ul>
                                    <li>üìç 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</li>
                                    <li>üìû Hotline: 1900-1234</li>
                                    <li>üìß Email: info@abcnews.vn</li>
                                    <li>üïí L√†m vi·ªác: 24/7</li>
                                </ul>
                            </div>
                        </div>

                        <div class="footer-bottom">
                            <p>&copy; 2025 ABC News. B·∫£n quy·ªÅn thu·ªôc v·ªÅ ABC News. |
                                <a href="#" style="color: #c41e3a;">Ch√≠nh s√°ch b·∫£o m·∫≠t</a> |
                                <a href="#" style="color: #c41e3a;">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
                            </p>
                        </div>
                    </div>
                </footer>

                <script>
                    // Display current date
                    function updateCurrentDate() {
                        const now = new Date();
                        const options = {
                            weekday: 'long',
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                            timeZone: 'Asia/Ho_Chi_Minh'
                        };
                        document.getElementById('currentDate').textContent =
                            now.toLocaleDateString('vi-VN', options);
                    }

                    // Load more articles
                    function loadMoreArticles() {
                        alert('ƒêang t·∫£i th√™m tin t·ª©c... T√≠nh nƒÉng s·∫Ω ƒë∆∞·ª£c ph√°t tri·ªÉn trong giai ƒëo·∫°n ti·∫øp theo.');
                    }

                    // Initialize
                    document.addEventListener('DOMContentLoaded', function () {
                        updateCurrentDate();

                        // Update date every minute
                        setInterval(updateCurrentDate, 60000);
                    });
                </script>
</body>

</html>